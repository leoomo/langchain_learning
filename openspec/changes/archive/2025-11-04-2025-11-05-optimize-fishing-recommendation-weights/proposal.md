# ä¼˜åŒ–é’“é±¼å»ºè®®ï¼Œå¢åŠ æ›´å¤šæƒé‡ä¿¡æ¯

**ææ¡ˆæ ‡è¯†**: `optimize-fishing-recommendation-weights`
**åˆ›å»ºæ—¶é—´**: 2025-11-05
**ææ¡ˆç±»å‹**: ç®—æ³•ä¼˜åŒ–
**ä¼˜å…ˆçº§**: é«˜
**çŠ¶æ€**: ğŸ“‹ å¾…å®æ–½

## Why

å½“å‰é’“é±¼æ¨èç³»ç»Ÿå­˜åœ¨"86åˆ†é—®é¢˜" - å¤šä¸ªç›¸ä¼¼å¤©æ°”æ¡ä»¶çš„æ—¶é—´æ®µè·å¾—ç›¸åŒè¯„åˆ†ï¼Œæ— æ³•ä¸ºç”¨æˆ·æä¾›æ˜ç¡®çš„ä¼˜å…ˆçº§å»ºè®®ã€‚åŸºäºä¸“ä¸šé’“é±¼ç ”ç©¶å’Œæ°”è±¡æ•°æ®åˆ†æï¼Œéœ€è¦å¼•å…¥æ°”å‹ã€æ¹¿åº¦ã€æœˆç›¸ã€å­£èŠ‚æ€§ç­‰ä¸“ä¸šå› å­ï¼Œå®æ–½ç²¾ç»†è¯„åˆ†ç³»ç»Ÿï¼Œæä¾›æ›´ç²¾å‡†ã€æ›´å…·åŒºåˆ†åº¦çš„é’“é±¼æ—¶é—´æ¨èã€‚

## What Changes

- æ‰©å±•è¯„åˆ†ç®—æ³•ä»ä¼ ç»Ÿ3å› å­ï¼ˆæ¸©åº¦ã€å¤©æ°”ã€é£åŠ›ï¼‰åˆ°7å› å­è¯„åˆ†ç³»ç»Ÿ
- æ–°å¢æ°”å‹è¶‹åŠ¿åˆ†æã€æ¹¿åº¦è¯„åˆ†ã€å­£èŠ‚æ€§è¯„åˆ†ã€æœˆç›¸è¯„åˆ†ç®—æ³•
- å®ç°å¢å¼ºè¯„åˆ†å™¨`EnhancedFishingScorer`ç±»ï¼Œæ”¯æŒç²¾ç»†åŒ–æƒé‡åˆ†é…
- æ‰©å±•æ•°æ®æ¨¡å‹æ”¯æŒå¢å¼ºè¯„åˆ†ç»“æœï¼Œä¿æŒå‘åå…¼å®¹
- æä¾›åŒæ¨¡å¼è¯„åˆ†æ¥å£ï¼Œæ”¯æŒä¼ ç»Ÿå’Œå¢å¼ºç®—æ³•åˆ‡æ¢

## Impact
- Affected specs: fishing-recommendation
- Affected code: tools/fishing_analyzer.py, tools/enhanced_fishing_scorer.py

## æ‘˜è¦

åŸºäºä¸“ä¸šé’“é±¼ç ”ç©¶å’Œæ°”è±¡æ•°æ®åˆ†æï¼Œä¼˜åŒ–å½“å‰é’“é±¼æ¨èç³»ç»Ÿçš„è¯„åˆ†æƒé‡ç®—æ³•ã€‚é€šè¿‡å¼•å…¥æ°”å‹ã€æ¹¿åº¦ã€æœˆç›¸ã€å­£èŠ‚æ€§ç­‰ä¸“ä¸šå› å­ï¼Œå®æ–½ç²¾ç»†è¯„åˆ†ç³»ç»Ÿï¼ˆæ–¹æ¡ˆAï¼‰ï¼Œè§£å†³å½“å‰è¯„åˆ†ç›¸åŒçš„é—®é¢˜ï¼Œæä¾›æ›´ç²¾å‡†ã€æ›´å…·åŒºåˆ†åº¦çš„é’“é±¼æ—¶é—´æ¨èã€‚

## é—®é¢˜èƒŒæ™¯

### å½“å‰é—®é¢˜åˆ†æ

**ç°è±¡è§‚å¯Ÿ**ï¼š
```
ä¸Šåˆ: 19.8Â°C é˜´å¤© é£åŠ›4.4km/h â†’ 86åˆ†
ä¸­åˆ: 23.7Â°C é˜´å¤© é£åŠ›2.8km/h â†’ 86åˆ†
ä¸‹åˆ: 23.1Â°C é˜´å¤© é£åŠ›1.1km/h â†’ 86åˆ†
```

**é—®é¢˜æ ¹æº**ï¼š
1. **è¯„åˆ†ç»´åº¦ä¸è¶³**: ä»…è€ƒè™‘æ¸©åº¦ã€å¤©æ°”ã€é£åŠ›ä¸‰ä¸ªå› ç´ 
2. **æƒé‡åˆ†é…ä¸åˆç†**: ä¼˜ç§€æ¡ä»¶ä¸‹å„å› å­éƒ½æ¥è¿‘æ»¡åˆ†
3. **ç¼ºå¤±å…³é”®å› å­**: æ°”å‹ã€æ¹¿åº¦ç­‰ä¸“ä¸šå› å­æœªçº³å…¥è¯„åˆ†
4. **ç²¾åº¦é—®é¢˜**: ç›¸ä¼¼æ¡ä»¶ä¸‹æ— æ³•åŒºåˆ†ç»†å¾®å·®å¼‚

### ç”¨æˆ·å½±å“
- **é€‰æ‹©å›°éš¾**: å¤šä¸ªç›¸åŒè¯„åˆ†çš„æ—¶é—´æ®µéš¾ä»¥å†³ç­–
- **ä¿¡æ¯ä¸å®Œæ•´**: ç¼ºå°‘å½±å“é’“é±¼çš„ä¸“ä¸šæ°”è±¡ä¿¡æ¯
- **å‡†ç¡®æ€§å—é™**: æ— æ³•ä½“ç°çœŸå®æ¡ä»¶ä¸‹çš„ç»†å¾®ä¼˜åŠ¿å·®å¼‚

## è§£å†³æ–¹æ¡ˆ

### æ ¸å¿ƒè®¾è®¡åŸåˆ™
1. **ä¸“ä¸šå¯¼å‘**: åŸºäºé’“é±¼ç§‘å­¦ç ”ç©¶å’Œå®é™…ç»éªŒ
2. **æ•°æ®é©±åŠ¨**: åˆ©ç”¨ç°æœ‰APIæ•°æ®çš„å®Œæ•´ä¿¡æ¯
3. **æ¸è¿›ä¼˜åŒ–**: ä¿æŒå‘åå…¼å®¹ï¼Œå¹³æ»‘å‡çº§
4. **ç²¾ç»†è¯„åˆ†**: æé«˜è¯„åˆ†ç²¾åº¦å’ŒåŒºåˆ†åº¦

### æ–¹æ¡ˆAï¼šç²¾ç»†è¯„åˆ†ç³»ç»Ÿ

#### æ–°è¯„åˆ†æƒé‡åˆ†é…
```python
overall_score = (
    temperature_score * 0.25 +      # æ¸©åº¦ 25% (åŒ…å«å˜åŒ–è¶‹åŠ¿)
    weather_score * 0.20 +          # å¤©æ°” 20%
    wind_score * 0.15 +             # é£åŠ› 15%
    pressure_score * 0.15 +         # æ°”å‹ 15% â­ æ–°å¢
    humidity_score * 0.10 +         # æ¹¿åº¦ 10% â­ æ–°å¢
    seasonal_score * 0.05 +         # å­£èŠ‚ 5% â­ æ–°å¢
    lunar_score * 0.05              # æœˆç›¸ 5% â­ æ–°å¢
)
```

### æ•°æ®æ”¯æ’‘åˆ†æ

#### âœ… å½“å‰å¯ç”¨æ•°æ®
åŸºäºå¯¹å½©äº‘å¤©æ°”APIå’Œç°æœ‰ç³»ç»Ÿçš„åˆ†æï¼š

**å®Œå…¨å¯ç”¨çš„æ•°æ®**ï¼š
- âœ… **æ¸©åº¦** (`temperature`) - å·²ä½¿ç”¨ï¼Œå¯ä¼˜åŒ–å˜åŒ–è¶‹åŠ¿
- âœ… **æ¹¿åº¦** (`humidity`) - å·²è·å–ä½†æœªä½¿ç”¨
- âœ… **æ°”å‹** (`pressure`) - å·²è·å–ä½†æœªä½¿ç”¨
- âœ… **é£é€Ÿ** (`wind.speed`) - å·²ä½¿ç”¨ï¼Œå¯ä¼˜åŒ–å˜åŒ–è¶‹åŠ¿
- âœ… **é£å‘** (`wind.direction`) - å·²è·å–ä½†æœªä½¿ç”¨
- âœ… **å¤©æ°”çŠ¶å†µ** (`skycon`) - å·²ä½¿ç”¨

**å¯è®¡ç®—çš„æ•°æ®**ï¼š
- ğŸ“Š **æ°”å‹å˜åŒ–è¶‹åŠ¿** - é€šè¿‡è¿ç»­æ•°æ®è®¡ç®—
- ğŸ“Š **æ¸©åº¦å˜åŒ–é€Ÿç‡** - é€šè¿‡æ—¶é—´åºåˆ—åˆ†æ
- ğŸ“Š **é£é€Ÿç¨³å®šæ€§** - é€šè¿‡æ³¢åŠ¨æ€§åˆ†æ
- ğŸ“Š **å­£èŠ‚æ€§å› å­** - é€šè¿‡æ—¥æœŸè®¡ç®—
- ğŸ“Š **æœˆç›¸ä¿¡æ¯** - é€šè¿‡æ—¥æœŸè®¡ç®—

## è¯¦ç»†è®¾è®¡

### 1. æ°”å‹è¯„åˆ†ç®—æ³•

#### æ°”å‹èŒƒå›´è¯„åˆ†
```python
def calculate_pressure_score(self, pressure: float) -> float:
    """
    è®¡ç®—æ°”å‹è¯„åˆ†
    åŸºäºç ”ç©¶ï¼šæœ€ä½³é’“é±¼æ°”å‹èŒƒå›´ 1005-1029 hPa
    """
    if 1005 <= pressure <= 1029:
        return 100.0  # æœ€ä½³æ°”å‹èŒƒå›´
    elif pressure < 1005:
        return 85.0   # ä½æ°”å‹ç³»ç»Ÿï¼ˆé€šå¸¸æ´»è·ƒï¼‰
    elif pressure > 1035:
        return 65.0   # æé«˜æ°”å‹ï¼ˆé±¼ç±»ä¸æ´»è·ƒï¼‰
    else:
        return 75.0   # é«˜æ°”å‹ï¼ˆç¨å·®ï¼‰
```

#### æ°”å‹å˜åŒ–è¶‹åŠ¿è¯„åˆ†
```python
def calculate_pressure_trend_score(self, pressure_series: List[float]) -> float:
    """
    è®¡ç®—æ°”å‹å˜åŒ–è¶‹åŠ¿è¯„åˆ†
    ç ”ç©¶å‘ç°ï¼šä¸‹é™æ°”å‹æ˜¯æœ€ä½³é’“é±¼æ—¶æœº
    """
    if len(pressure_series) < 3:
        return 75.0  # æ•°æ®ä¸è¶³

    recent_avg = sum(pressure_series[-3:]) / 3
    earlier_avg = sum(pressure_series[-6:-3]) / 3 if len(pressure_series) >= 6 else recent_avg

    change = recent_avg - earlier_avg

    if change < -2:      # å¿«é€Ÿä¸‹é™ - æœ€ä½³æ—¶æœº
        return 115.0     # é¢å¤–å¥–åŠ±
    elif change < -0.5:  # ç¼“æ…¢ä¸‹é™ - è‰¯å¥½
        return 105.0
    elif -0.5 <= change <= 0.5:  # ç¨³å®š - æ­£å¸¸
        return 100.0
    elif change <= 2:    # ç¼“æ…¢ä¸Šå‡ - ç¨å·®
        return 85.0
    else:                # å¿«é€Ÿä¸Šå‡ - è¾ƒå·®
        return 70.0
```

### 2. æ¹¿åº¦è¯„åˆ†ç®—æ³•

```python
def calculate_humidity_score(self, humidity: float) -> float:
    """
    è®¡ç®—æ¹¿åº¦è¯„åˆ†
    ç ”ç©¶å‘ç°ï¼šæ¹¿åº¦åæ˜ æ°”å‹ç³»ç»Ÿï¼Œé«˜æ¹¿åº¦é€šå¸¸ä¼´éšä½æ°”å‹
    """
    if 60 <= humidity <= 80:
        return 100.0      # ç†æƒ³æ¹¿åº¦
    elif 80 < humidity <= 90:
        return 95.0       # é«˜æ¹¿åº¦ï¼ˆä½æ°”å‹ä¿¡å·ï¼‰
    elif 90 < humidity <= 95:
        return 90.0       # å¾ˆé«˜æ¹¿åº¦
    elif 40 <= humidity < 60:
        return 80.0       # ä¸­ç­‰æ¹¿åº¦
    else:
        return 65.0       # æç«¯æ¹¿åº¦
```

### 3. å­£èŠ‚æ€§è¯„åˆ†ç®—æ³•

```python
def calculate_seasonal_score(self, date: datetime, time_of_day: str) -> float:
    """
    è®¡ç®—å­£èŠ‚æ€§è¯„åˆ†
    åŸºäºé±¼ç±»ç”Ÿç‰©å­¦è§„å¾‹å’Œæ´»åŠ¨æ¨¡å¼
    """
    month = date.month
    hour = date.hour

    # æ˜¥å­£ï¼ˆ3-5æœˆï¼‰ï¼šé±¼ç±»æ´»è·ƒæœŸ
    if 3 <= month <= 5:
        if 6 <= hour <= 9 or 17 <= hour <= 19:  # æ—©æ™šæœ€ä½³
            return 100.0
        elif 10 <= hour <= 16:  # ä¸­åˆç¨å·®
            return 85.0
        else:
            return 70.0

    # å¤å­£ï¼ˆ6-8æœˆï¼‰ï¼šé¿å¼€é«˜æ¸©
    elif 6 <= month <= 8:
        if 5 <= hour <= 8 or 18 <= hour <= 20:  # æ¸…æ™¨å‚æ™šæœ€ä½³
            return 100.0
        elif 11 <= hour <= 15:  # ä¸­åˆæœ€å·®
            return 60.0
        else:
            return 80.0

    # ç§‹å­£ï¼ˆ9-11æœˆï¼‰ï¼šè§…é£ŸæœŸ
    elif 9 <= month <= 11:
        if 7 <= hour <= 10 or 16 <= hour <= 19:  # ä¸Šåˆä¸‹åˆæœ€ä½³
            return 100.0
        else:
            return 85.0

    # å†¬å­£ï¼ˆ12-2æœˆï¼‰ï¼šä¸­åˆç›¸å¯¹è¾ƒå¥½
    else:
        if 11 <= hour <= 14:  # ä¸­åˆæœ€ä½³
            return 90.0
        elif 9 <= hour <= 16:  # ç™½å¤©å°šå¯
            return 75.0
        else:
            return 50.0  # æ—©æ™šå¾ˆå·®
```

### 4. æœˆç›¸è¯„åˆ†ç®—æ³•

```python
def calculate_lunar_score(self, date: datetime, time_of_day: str) -> float:
    """
    è®¡ç®—æœˆç›¸è¯„åˆ†
    åŸºäºé’“é±¼ç»éªŒå’Œå¤©æ–‡è®¡ç®—
    """
    moon_phase = self.get_moon_phase(date)

    # è½¬æ¢æ—¶é—´æè¿°
    if time_of_day in ['dawn', 'dusk', 'night']:
        is_night = True
    else:
        is_night = False

    moon_scores = {
        'new_moon': 85,           # æ–°æœˆï¼šæ¸©å’Œå¤©æ°”ï¼Œæ°”å‹è¾ƒä½
        'waxing_crescent': 80,    # å¨¥çœ‰æœˆï¼šæ¸ä½³
        'first_quarter': 75,      # ä¸Šå¼¦æœˆï¼šä¸­ç­‰
        'waxing_gibbous': 82,     # ç›ˆå‡¸æœˆï¼šè¾ƒå¥½
        'full_moon': 90 if is_night else 65,  # æ»¡æœˆï¼šå¤œé—´æä½³ï¼Œç™½å¤©è¾ƒå·®
        'waning_gibbous': 78,     # äºå‡¸æœˆï¼šä¸­ç­‰
        'last_quarter': 75,       # ä¸‹å¼¦æœˆï¼šä¸­ç­‰
        'waning_crescent': 80     # æ®‹æœˆï¼šæ¸ä½³
    }

    return moon_scores.get(moon_phase, 75)

def get_moon_phase(self, date: datetime) -> str:
    """è®¡ç®—æœˆç›¸ï¼ˆç®€åŒ–ç®—æ³•ï¼‰"""
    # ä½¿ç”¨ç®€åŒ–çš„æœˆç›¸è®¡ç®—å…¬å¼
    # å®é™…å®ç°å¯ä»¥ä½¿ç”¨æ›´ç²¾ç¡®çš„å¤©æ–‡ç®—æ³•
    year, month, day = date.year, date.month, date.day

    # ç®€åŒ–è®¡ç®—ï¼ˆè¿™é‡Œä½¿ç”¨è¿‘ä¼¼å…¬å¼ï¼‰
    c = math.floor(365.25 * year)
    e = math.floor(30.6 * month)
    jd = c + e + day - 694039.09  # ç®€åŒ–çš„å„’ç•¥æ—¥

    moon_phase = (jd + 4.867) / 29.53059
    phase_index = int((moon_phase % 1) * 8)

    moon_phases = [
        'new_moon', 'waxing_crescent', 'first_quarter', 'waxing_gibbous',
        'full_moon', 'waning_gibbous', 'last_quarter', 'waning_crescent'
    ]

    return moon_phases[phase_index]
```

### 5. æ¸©åº¦å˜åŒ–è¶‹åŠ¿ä¼˜åŒ–

```python
def calculate_temperature_trend_score(self, temp_series: List[float]) -> float:
    """
    è®¡ç®—æ¸©åº¦å˜åŒ–è¶‹åŠ¿è¯„åˆ†
    å¿«é€Ÿå‡æ¸©é€šå¸¸åˆºæ¿€é±¼ç±»æ´»åŠ¨
    """
    if len(temp_series) < 3:
        return 100.0

    recent_avg = sum(temp_series[-3:]) / 3
    earlier_avg = sum(temp_series[-6:-3]) / 3 if len(temp_series) >= 6 else recent_avg

    temp_change = recent_avg - earlier_avg

    if temp_change > 3:      # å¿«é€Ÿå‡æ¸© - æä½³
        return 110.0
    elif temp_change > 1:    # ç¼“æ…¢å‡æ¸© - è‰¯å¥½
        return 105.0
    elif -1 <= temp_change <= 1:  # ç¨³å®š - æ­£å¸¸
        return 100.0
    elif temp_change < -3:   # å¿«é€Ÿé™æ¸© - è¾ƒå·®
        return 80.0
    else:                    # ç¼“æ…¢é™æ¸© - å°šå¯
        return 90.0
```

### 6. é£é€Ÿç¨³å®šæ€§ä¼˜åŒ–

```python
def calculate_wind_stability_score(self, wind_series: List[float]) -> float:
    """
    è®¡ç®—é£é€Ÿç¨³å®šæ€§è¯„åˆ†
    ç¨³å®šé£é€Ÿæ¯”çªå˜é£é€Ÿæ›´é€‚åˆé’“é±¼
    """
    if len(wind_series) < 3:
        return 100.0

    # è®¡ç®—é£é€Ÿæ ‡å‡†å·®
    mean_wind = sum(wind_series) / len(wind_series)
    variance = sum((w - mean_wind) ** 2 for w in wind_series) / len(wind_series)
    std_dev = math.sqrt(variance)

    # æ ‡å‡†å·®è¶Šå°è¶Šç¨³å®š
    if std_dev < 1:        # éå¸¸ç¨³å®š
        return 105.0
    elif std_dev < 2:      # ç¨³å®š
        return 100.0
    elif std_dev < 4:      # è½»å¾®æ³¢åŠ¨
        return 90.0
    else:                  # ä¸ç¨³å®š
        return 80.0
```

## æ¶æ„è®¾è®¡

### æ–°å¢æ¨¡å—ç»“æ„

```python
class EnhancedFishingScorer:
    """å¢å¼ºé’“é±¼è¯„åˆ†å™¨"""

    def __init__(self):
        self.weather_analyzer = WeatherTrendAnalyzer()
        self.astronomical_calculator = AstronomicalCalculator()
        self.seasonal_analyzer = SeasonalAnalyzer()

    def calculate_comprehensive_score(self,
                                    hourly_data: Dict[str, Any],
                                    historical_data: List[Dict[str, Any]],
                                    date: datetime) -> FishingScore:
        """
        è®¡ç®—ç»¼åˆé’“é±¼è¯„åˆ†
        """
        # åŸºç¡€è¯„åˆ†ï¼ˆä¿æŒç°æœ‰é€»è¾‘ï¼‰
        base_score = self.calculate_base_score(hourly_data)

        # æ–°å¢è¯„åˆ†å› å­
        pressure_score = self.calculate_pressure_score(
            hourly_data['pressure'],
            self.weather_analyzer.get_pressure_trend(historical_data)
        )

        humidity_score = self.calculate_humidity_score(hourly_data['humidity'])

        seasonal_score = self.seasonal_analyzer.calculate_score(date, hourly_data['time'])

        lunar_score = self.astronomical_calculator.calculate_lunar_score(date, hourly_data['time'])

        # ç»¼åˆè¯„åˆ†
        overall_score = (
            base_score.temperature * 0.25 +
            base_score.weather * 0.20 +
            base_score.wind * 0.15 +
            pressure_score * 0.15 +
            humidity_score * 0.10 +
            seasonal_score * 0.05 +
            lunar_score * 0.05
        )

        return FishingScore(
            overall=overall_score,
            temperature=base_score.temperature,
            weather=base_score.weather,
            wind=base_score.wind,
            pressure=pressure_score,
            humidity=humidity_score,
            seasonal=seasonal_score,
            lunar=lunar_score,
            breakdown={
                'temperature_weight': 0.25,
                'weather_weight': 0.20,
                'wind_weight': 0.15,
                'pressure_weight': 0.15,
                'humidity_weight': 0.10,
                'seasonal_weight': 0.05,
                'lunar_weight': 0.05
            }
        )
```

## é¢„æœŸæ•ˆæœ

### è¯„åˆ†åŒºåˆ†åº¦æå‡

**ä¼˜åŒ–å‰ï¼ˆé—®é¢˜ï¼‰**ï¼š
```
ä¸Šåˆ: 19.8Â°C é˜´å¤© é£åŠ›4.4km/h â†’ 86åˆ†
ä¸­åˆ: 23.7Â°C é˜´å¤© é£åŠ›2.8km/h â†’ 86åˆ†
ä¸‹åˆ: 23.1Â°C é˜´å¤© é£åŠ›1.1km/h â†’ 86åˆ†
```

**ä¼˜åŒ–åï¼ˆé¢„æœŸï¼‰**ï¼š
```
ä¸Šåˆ: 19.8Â°C é˜´å¤© é£åŠ›4.4km/h æ°”å‹1013hPa æ¹¿åº¦65% â†’ 82åˆ†
ä¸­åˆ: 23.7Â°C é˜´å¤© é£åŠ›2.8km/h æ°”å‹1011hPa æ¹¿åº¦68% â†’ 91åˆ†
ä¸‹åˆ: 23.1Â°C é˜´å¤© é£åŠ›1.1km/h æ°”å‹1009hPa æ¹¿åº¦70% â†’ 94åˆ†
```

### ç”¨æˆ·ä½“éªŒæå‡

1. **ç²¾å‡†æ’åº**: æ˜æ˜¾çš„æœ€ä½³æ—¶é—´æ®µæ¨è
2. **ä¸“ä¸šå¯ä¿¡**: åŸºäºç§‘å­¦ç ”ç©¶çš„è¯„åˆ†ä½“ç³»
3. **ä¿¡æ¯ä¸°å¯Œ**: è¯¦ç»†çš„ä¸“ä¸šæ°”è±¡å› å­
4. **å†³ç­–æ”¯æŒ**: å®Œæ•´çš„æ—¶é—´æ®µåˆ†ææŠ¥å‘Š

### æŠ€æœ¯æŒ‡æ ‡

- **åŒºåˆ†åº¦**: ç›¸ä¼¼æ¡ä»¶ä¸‹è¯„åˆ†å·®å¼‚ > 5åˆ†
- **å‡†ç¡®æ€§**: åŸºäºä¸“ä¸šé’“é±¼ç ”ç©¶çš„æƒé‡åˆ†é…
- **æ€§èƒ½**: é›¶é¢å¤–APIè°ƒç”¨æˆæœ¬
- **å…¼å®¹æ€§**: å‘åå…¼å®¹ç°æœ‰ç³»ç»Ÿ

## é£é™©è¯„ä¼°

### æŠ€æœ¯é£é™© (ä½)
- **æ•°æ®å¯ç”¨æ€§**: æ‰€éœ€æ•°æ®å·²åœ¨ç³»ç»Ÿä¸­å­˜åœ¨
- **ç®—æ³•å¤æ‚åº¦**: å¢åŠ çš„è®¡ç®—é‡å¯å¿½ç•¥
- **å…¼å®¹æ€§**: ä¿æŒç°æœ‰æ¥å£ä¸å˜

### ä¸šåŠ¡é£é™© (æä½)
- **ç”¨æˆ·æ¥å—åº¦**: æ›´ç²¾å‡†çš„æ¨èæå‡ä½“éªŒ
- **å‡†ç¡®æ€§**: åŸºäºä¸“ä¸šç ”ç©¶ï¼Œé£é™©å¯æ§
- **æ€§èƒ½**: æ— è´Ÿé¢å½±å“ï¼Œåªæœ‰æå‡

### ç¼“è§£æªæ–½
1. **æ¸è¿›å¼éƒ¨ç½²**: å¯é€‰å¯ç”¨æ–°è¯„åˆ†ç®—æ³•
2. **A/Bæµ‹è¯•**: å¯¹æ¯”æ–°æ—§ç®—æ³•æ•ˆæœ
3. **å›é€€æœºåˆ¶**: ä¿ç•™åŸæœ‰ç®—æ³•ä½œä¸ºå¤‡é€‰

## å®æ–½è®¡åˆ’

### é˜¶æ®µ1: æ ¸å¿ƒç®—æ³•å¼€å‘ (0.5å¤©)

#### 1.1 å¢å¼ºè¯„åˆ†å™¨å®ç°
- åˆ›å»º `EnhancedFishingScorer` ç±»
- å®ç°å„æƒé‡å› å­çš„è¯„åˆ†ç®—æ³•
- é›†æˆæœˆç›¸å’Œå­£èŠ‚è®¡ç®—å™¨

#### 1.2 æ•°æ®åˆ†æå·¥å…·
- å®ç° `WeatherTrendAnalyzer`
- å®ç°å†å²æ•°æ®è¶‹åŠ¿åˆ†æ
- å®ç°æ•°æ®å˜åŒ–æ£€æµ‹ç®—æ³•

### é˜¶æ®µ2: ç³»ç»Ÿé›†æˆ (0.5å¤©)

#### 2.1 é’“é±¼åˆ†æå™¨é›†æˆ
- æ›´æ–° `FishingAnalyzer` ç±»
- é›†æˆæ–°çš„è¯„åˆ†ç®—æ³•
- ä¿æŒå‘åå…¼å®¹æ€§

#### 2.2 è¾“å‡ºæ ¼å¼ä¼˜åŒ–
- æ›´æ–°æ¨èç»“æœæ˜¾ç¤º
- æ·»åŠ è¯„åˆ†è¯¦ç»†åˆ†è§£
- ä¼˜åŒ–ç”¨æˆ·ç•Œé¢

### é˜¶æ®µ3: æµ‹è¯•éªŒè¯ (0.5å¤©)

#### 3.1 åŠŸèƒ½æµ‹è¯•
- éªŒè¯æ–°è¯„åˆ†ç®—æ³•æ­£ç¡®æ€§
- æµ‹è¯•è¾¹ç•Œæ¡ä»¶å¤„ç†
- éªŒè¯æ•°æ®å…¼å®¹æ€§

#### 3.2 æ•ˆæœéªŒè¯
- å¯¹æ¯”æ–°æ—§ç®—æ³•æ•ˆæœ
- éªŒè¯è¯„åˆ†åŒºåˆ†åº¦
- æ”¶é›†ç”¨æˆ·åé¦ˆ

### é˜¶æ®µ4: éƒ¨ç½²ä¸Šçº¿ (0.5å¤©)

#### 4.1 ç°åº¦å‘å¸ƒ
- å°èŒƒå›´æµ‹è¯•æ–°ç®—æ³•
- ç›‘æ§ç³»ç»Ÿç¨³å®šæ€§
- æ”¶é›†æ€§èƒ½æ•°æ®

#### 4.2 å…¨é‡å‘å¸ƒ
- æ­£å¼å¯ç”¨æ–°è¯„åˆ†ç®—æ³•
- æ›´æ–°æ–‡æ¡£å’Œè¯´æ˜
- åŸ¹è®­ç”¨æˆ·ä½¿ç”¨

## æˆåŠŸæ ‡å‡†

### æŠ€æœ¯æŒ‡æ ‡
- âœ… æ–°æƒé‡å› å­å®Œå…¨é›†æˆ
- âœ… è¯„åˆ†åŒºåˆ†åº¦ > 5åˆ† (ç›¸ä¼¼æ¡ä»¶ä¸‹)
- âœ… é›¶æ€§èƒ½å›é€€
- âœ… 100%å‘åå…¼å®¹

### ä¸šåŠ¡æŒ‡æ ‡
- âœ… ç”¨æˆ·æ»¡æ„åº¦æå‡
- âœ… æ¨èå‡†ç¡®æ€§æå‡
- âœ… å†³ç­–æ”¯æŒæ•ˆæœæ”¹å–„

### è´¨é‡æŒ‡æ ‡
- âœ… ä»£ç æµ‹è¯•è¦†ç›–ç‡ > 90%
- âœ… æ–‡æ¡£å®Œæ•´æ€§ 100%
- âœ… ç”¨æˆ·åé¦ˆç§¯æç‡ > 80%

## ææ¡ˆå†å²

| ç‰ˆæœ¬ | æ—¶é—´ | å˜æ›´å†…å®¹ | ä½œè€… |
|------|------|----------|------|
| v1.0 | 2025-11-05 | åˆå§‹ææ¡ˆåˆ›å»º | AI Assistant |

## ç›¸å…³èµ„æº

### æŠ€æœ¯æ–‡æ¡£
- [é’“é±¼ç§‘å­¦ç ”ç©¶æ–‡çŒ®](https://example.com/fishing-research)
- [æ°”è±¡å­¦å¯¹é±¼ç±»æ´»åŠ¨å½±å“](https://example.com/meteorology-fishing)
- [ç°æœ‰é’“é±¼åˆ†æå™¨æ–‡æ¡£](../../tools/fishing_analyzer.py)

### ç›¸å…³ææ¡ˆ
- [å¤©æ°”é¢„æŠ¥æ¥å£æŒ‰æ—¶é—´èŒƒå›´å·®å¼‚åŒ–ä¼˜åŒ–](../archive/2025-11-04-weather-api-differentiation/)
- [å¤©æ°”æœåŠ¡å¢å¼º](../archive/2025-11-03-update-get-weather-with-caiyun-api/)

### å‚è€ƒèµ„æ–™
- ä¸“ä¸šé’“é±¼ç ”ç©¶è®ºæ–‡å’ŒæœŸåˆŠ
- æ°”è±¡å­¦å¯¹é±¼ç±»è¡Œä¸ºå½±å“çš„ç ”ç©¶
- å®é™…é’“é±¼ç»éªŒå’Œæœ€ä½³å®è·µ